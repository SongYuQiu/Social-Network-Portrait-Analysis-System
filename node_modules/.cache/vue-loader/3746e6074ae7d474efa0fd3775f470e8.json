{"remainingRequest":"/Users/justforstar/Desktop/SocialNetworkPortraitAnalysisSystem/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/justforstar/Desktop/SocialNetworkPortraitAnalysisSystem/src/views/profile/components/Account.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/justforstar/Desktop/SocialNetworkPortraitAnalysisSystem/src/views/profile/components/Account.vue","mtime":1638156305801},{"path":"/Users/justforstar/Desktop/SocialNetworkPortraitAnalysisSystem/node_modules/cache-loader/dist/cjs.js","mtime":1638156297698},{"path":"/Users/justforstar/Desktop/SocialNetworkPortraitAnalysisSystem/node_modules/babel-loader/lib/index.js","mtime":1638156297157},{"path":"/Users/justforstar/Desktop/SocialNetworkPortraitAnalysisSystem/node_modules/cache-loader/dist/cjs.js","mtime":1638156297698},{"path":"/Users/justforstar/Desktop/SocialNetworkPortraitAnalysisSystem/node_modules/vue-loader/lib/index.js","mtime":1638156305159}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KCmltcG9ydCAqIGFzIGVjaGFydHMgZnJvbSAnZWNoYXJ0cycKaW1wb3J0ICdlY2hhcnRzLXdvcmRjbG91ZC9kaXN0L2VjaGFydHMtd29yZGNsb3VkLm1pbicKaW1wb3J0ICdlY2hhcnRzLXdvcmRjbG91ZC9kaXN0L2VjaGFydHMtd29yZGNsb3VkJwppbXBvcnQgeyBmZXRjaFVzZXJJbnRlcmVzdCwgY2hhbmdlSW50ZXJlc3QgfSBmcm9tICdAL2FwaS93ZWliby11c2VyJwpyZXF1aXJlKCdlY2hhcnRzL3RoZW1lL21hY2Fyb25zJykgLy8gZWNoYXJ0cyB0aGVtZQoKZXhwb3J0IGRlZmF1bHQgewogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBpbnRlcmVzdDogJycsCiAgICAgIHdlaWJvX3VzZXJfaWQ6ICcnCiAgICB9CiAgfSwKICBtb3VudGVkKCkgewogICAgdGhpcy5pbml0Q2hhcnRzKCkKICB9LAogIHByb3BzOiB7CiAgICB3aWR0aDogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6ICcxMDAlJwogICAgfSwKICAgIGhlaWdodDogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6ICczMDBweCcKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIGluaXRDaGFydHMoKSB7CiAgICAgIGNvbnN0IHRoYXQgPSB0aGlzCiAgICAgIHRoYXQud2VpYm9fdXNlcl9pZCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd3ZWlib191c2VyX2lkJykKICAgICAgZmV0Y2hVc2VySW50ZXJlc3QodGhhdC53ZWlib191c2VyX2lkKS50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICB0aGF0LmludGVyZXN0ID0gcmVzcG9uc2UuZGF0YS5pbnRlcmVzdAogICAgICAgIGxldCBteUNoYXJ0MiA9IGVjaGFydHMuaW5pdChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2hhcnQyJyksICdtYWNhcm9ucycpCiAgICAgICAgbGV0IHdvcmRfbGlzdCA9IHRoYXQuaW50ZXJlc3QudG9TdHJpbmcoKS5zcGxpdCgnICcpCiAgICAgICAgbGV0IHdvcmRfZGF0YV9saXN0ID0gW10KICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHdvcmRfbGlzdC5sZW5ndGg7IGkrKykgewogICAgICAgICAgdmFyIHRlbXAgPSB7fQogICAgICAgICAgdGVtcFsnbmFtZSddID0gd29yZF9saXN0W2ldCiAgICAgICAgICB0ZW1wWyd2YWx1ZSddID0gcGFyc2VJbnQoTWF0aC5yYW5kb20oKSo1KQogICAgICAgICAgdGVtcFsndGV4dFN0eWxlJ10gPSB0aGlzLmNyZWF0ZVRleHRDb2xvcigpCiAgICAgICAgICB3b3JkX2RhdGFfbGlzdFtpXSA9IHRlbXAKICAgICAgICB9CiAgICAgICAgLy9jb25zb2xlLmxvZyh3b3JkX2RhdGFfbGlzdCkKICAgICAgICBteUNoYXJ0Mi5zZXRPcHRpb24oewogICAgICAgICAgdG9vbHRpcDogewogICAgICAgICAgICB0cmlnZ2VyOiAnaXRlbScsCiAgICAgICAgICAgIGZvcm1hdHRlcjogJ+eCueWHu+WIoOmZpOivpeivjScsCiAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogJ3JnYmEoMjU1LDI1NSwyNTUsMC43KScKICAgICAgICAgIH0sCiAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjZmZmJywKICAgICAgICAgIHNlcmllczogW3sKICAgICAgICAgICAgdHlwZTogJ3dvcmRDbG91ZCcsCiAgICAgICAgICAgIC8vIHNoYXBlOidjaXJjbGUnLAogICAgICAgICAgICBjZW50ZXI6IFsnNTAlJywgJzUwJSddLAogICAgICAgICAgICAvL+eUqOadpeiwg+aVtOivjeS5i+mXtOeahOi3neemuwogICAgICAgICAgICBncmlkU2l6ZTogMTUsCiAgICAgICAgICAgIGF1dG9TaXplOiB7CiAgICAgICAgICAgICAgZW5hYmxlOiB0cnVlLAogICAgICAgICAgICAgIG1pblNpemU6IDQKICAgICAgICAgICAgfSwKICAgICAgICAgICAgLy/nlKjmnaXosIPmlbTlrZfnmoTlpKflsI/ojIPlm7QKICAgICAgICAgICAgZHJhd091dE9mQm91bmQ6ZmFsc2UsCiAgICAgICAgICAgIHNpemVSYW5nZTogWzE0LCA2MF0sCiAgICAgICAgICAgIC8v55So5p2l6LCD5pW06K+N55qE5peL6L2s5pa55ZCR77yM77yMWzAsMF0tLeS7o+ihqOedgOayoeacieinkuW6pu+8jOS5n+WwseaYr+ivjeS4uuawtOW5s+aWueWQke+8jOmcgOimgeiuvue9ruinkuW6puWPguiAg+azqOmHiuWGheWuuQogICAgICAgICAgICByb3RhdGlvblJhbmdlOiBbMCwgMF0sCiAgICAgICAgICAgIC8vIG1hc2tJbWFnZTogbWFza0ltYWdlLAogICAgICAgICAgICAvLyByb3RhdGlvblJhbmdlOiBbMCwtMzAsMzAsNDUsLTQ1LDIwLC0yMCw5MF0sCiAgICAgICAgICAgIGRhdGE6IHdvcmRfZGF0YV9saXN0CiAgICAgICAgICB9XQogICAgICAgIH0pCiAgICAgICAgbXlDaGFydDIub24oJ2NsaWNrJyxmdW5jdGlvbihwYXJhbXMpewogICAgICAgICAgd29yZF9kYXRhX2xpc3Quc3BsaWNlKHBhcmFtcy5kYXRhSW5kZXgsMSkKICAgICAgICAgIGxldCBjaGFuZ2VkSW50ZXJlc3QgPSAnJwogICAgICAgICAgZm9yKGxldCBpID0wIDtpPHdvcmRfZGF0YV9saXN0Lmxlbmd0aDtpKyspewogICAgICAgICAgICBjaGFuZ2VkSW50ZXJlc3QgPSBjaGFuZ2VkSW50ZXJlc3Qrd29yZF9kYXRhX2xpc3RbaV0ubmFtZSsnICcKICAgICAgICAgIH0KICAgICAgICAgIHRoYXQuJGNvbmZpcm0oJ+aYr+WQpuWIoOmZpOatpOWFs+mUruivje+8nycsICfmj5DnpLonLCB7CiAgICAgICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAn56Gu5a6aJywKICAgICAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogJ+WPlua2iCcsCiAgICAgICAgICAgIHR5cGU6ICd3YXJuaW5nJwogICAgICAgICAgfSkudGhlbigoKSA9PiB7CiAgICAgICAgICAgIGNoYW5nZUludGVyZXN0KHRoYXQud2VpYm9fdXNlcl9pZCxjaGFuZ2VkSW50ZXJlc3QpLnRoZW4ocmVzcG9uc2UgPT57CiAgICAgICAgICAgICAgaWYocmVzcG9uc2Uuc3RhdHVzID09PSAyMDApewogICAgICAgICAgICAgICAgdGhhdC4kbWVzc2FnZSh7CiAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6J+WIoOmZpOaIkOWKn++8gScsCiAgICAgICAgICAgICAgICAgIHR5cGU6J3N1Y2Nlc3MnLAogICAgICAgICAgICAgICAgICBkdXJhdGlvbjoxMDAwCiAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgdGhhdC5pbml0Q2hhcnRzKCkKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pCiAgICAgICAgICB9KS5jYXRjaCgoKSA9PiB7CiAgICAgICAgICAgIHRoYXQuJG1lc3NhZ2UoewogICAgICAgICAgICAgIHR5cGU6ICdpbmZvJywKICAgICAgICAgICAgICBtZXNzYWdlOiAn5bey5Y+W5raI5Yig6ZmkJwogICAgICAgICAgICB9KTsKICAgICAgICAgIH0pOwogICAgICAgIH0pCiAgICAgIH0pCiAgICB9LAogICAgY3JlYXRlVGV4dENvbG9yKCl7CiAgICAgIGNvbnN0IG1hY3JvbiA9IFsnIzJlYzdjOScsICcjYjZhMmRlJywgJyM1YWIxZWYnLCAnI2ZmYjk4MCcsICcjZDg3YTgwJywgJyM4ZDk4YjMnLCAnI2U1Y2YwZCcsICcjOTdiNTUyJywKICAgICAgICAgICAgICAgICAgICAgICcjOTU3MDZkJywgJyNkYzY5YWEnLCAnIzA3YTJhNCcsICcjOWE3ZmQxJywgJyM1ODhkZDUnLCAnI2Y1OTk0ZScsICcjYzA1MDUwJywgJyM1OTY3OGMnLAogICAgICAgICAgICAgICAgICAgICAgJyNjOWFiMDAnLCAnIzdlYjAwYScsICcjNmY1NTUzJywgJyNjMTQwODknIF0KICAgICAgdmFyIGl0ZW1Db2xvciA9IG1hY3JvbltNYXRoLmZsb29yKChNYXRoLnJhbmRvbSgpKm1hY3Jvbi5sZW5ndGgpKV0KICAgICAgcmV0dXJuIHsKICAgICAgICBjb2xvcjogaXRlbUNvbG9yCiAgICAgIH0KICAgIH0KICB9Cn0K"},{"version":3,"sources":["Account.vue"],"names":[],"mappings":";;;;;AAKA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Account.vue","sourceRoot":"src/views/profile/components","sourcesContent":["<template>\n  <div id=\"chart2\" :style=\"{height:height,width:width}\" ref=\"chart2\"></div>\n</template>\n\n<script>\nimport * as echarts from 'echarts'\nimport 'echarts-wordcloud/dist/echarts-wordcloud.min'\nimport 'echarts-wordcloud/dist/echarts-wordcloud'\nimport { fetchUserInterest, changeInterest } from '@/api/weibo-user'\nrequire('echarts/theme/macarons') // echarts theme\n\nexport default {\n  data() {\n    return {\n      interest: '',\n      weibo_user_id: ''\n    }\n  },\n  mounted() {\n    this.initCharts()\n  },\n  props: {\n    width: {\n      type: String,\n      default: '100%'\n    },\n    height: {\n      type: String,\n      default: '300px'\n    }\n  },\n  methods: {\n    initCharts() {\n      const that = this\n      that.weibo_user_id = localStorage.getItem('weibo_user_id')\n      fetchUserInterest(that.weibo_user_id).then(response => {\n        that.interest = response.data.interest\n        let myChart2 = echarts.init(document.getElementById('chart2'), 'macarons')\n        let word_list = that.interest.toString().split(' ')\n        let word_data_list = []\n        for (var i = 0; i < word_list.length; i++) {\n          var temp = {}\n          temp['name'] = word_list[i]\n          temp['value'] = parseInt(Math.random()*5)\n          temp['textStyle'] = this.createTextColor()\n          word_data_list[i] = temp\n        }\n        //console.log(word_data_list)\n        myChart2.setOption({\n          tooltip: {\n            trigger: 'item',\n            formatter: '点击删除该词',\n            backgroundColor: 'rgba(255,255,255,0.7)'\n          },\n          backgroundColor: '#fff',\n          series: [{\n            type: 'wordCloud',\n            // shape:'circle',\n            center: ['50%', '50%'],\n            //用来调整词之间的距离\n            gridSize: 15,\n            autoSize: {\n              enable: true,\n              minSize: 4\n            },\n            //用来调整字的大小范围\n            drawOutOfBound:false,\n            sizeRange: [14, 60],\n            //用来调整词的旋转方向，，[0,0]--代表着没有角度，也就是词为水平方向，需要设置角度参考注释内容\n            rotationRange: [0, 0],\n            // maskImage: maskImage,\n            // rotationRange: [0,-30,30,45,-45,20,-20,90],\n            data: word_data_list\n          }]\n        })\n        myChart2.on('click',function(params){\n          word_data_list.splice(params.dataIndex,1)\n          let changedInterest = ''\n          for(let i =0 ;i<word_data_list.length;i++){\n            changedInterest = changedInterest+word_data_list[i].name+' '\n          }\n          that.$confirm('是否删除此关键词？', '提示', {\n            confirmButtonText: '确定',\n            cancelButtonText: '取消',\n            type: 'warning'\n          }).then(() => {\n            changeInterest(that.weibo_user_id,changedInterest).then(response =>{\n              if(response.status === 200){\n                that.$message({\n                  message:'删除成功！',\n                  type:'success',\n                  duration:1000\n                })\n                that.initCharts()\n              }\n            })\n          }).catch(() => {\n            that.$message({\n              type: 'info',\n              message: '已取消删除'\n            });\n          });\n        })\n      })\n    },\n    createTextColor(){\n      const macron = ['#2ec7c9', '#b6a2de', '#5ab1ef', '#ffb980', '#d87a80', '#8d98b3', '#e5cf0d', '#97b552',\n                      '#95706d', '#dc69aa', '#07a2a4', '#9a7fd1', '#588dd5', '#f5994e', '#c05050', '#59678c',\n                      '#c9ab00', '#7eb00a', '#6f5553', '#c14089' ]\n      var itemColor = macron[Math.floor((Math.random()*macron.length))]\n      return {\n        color: itemColor\n      }\n    }\n  }\n}\n</script>\n"]}]}