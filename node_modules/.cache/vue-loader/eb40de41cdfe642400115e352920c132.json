{"remainingRequest":"/Users/justforstar/Desktop/SocialNetworkPortraitAnalysisSystem/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/justforstar/Desktop/SocialNetworkPortraitAnalysisSystem/src/views/dashboard/admin/components/agePieChart.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/justforstar/Desktop/SocialNetworkPortraitAnalysisSystem/src/views/dashboard/admin/components/agePieChart.vue","mtime":1638156305792},{"path":"/Users/justforstar/Desktop/SocialNetworkPortraitAnalysisSystem/node_modules/cache-loader/dist/cjs.js","mtime":1638156297698},{"path":"/Users/justforstar/Desktop/SocialNetworkPortraitAnalysisSystem/node_modules/babel-loader/lib/index.js","mtime":1638156297157},{"path":"/Users/justforstar/Desktop/SocialNetworkPortraitAnalysisSystem/node_modules/cache-loader/dist/cjs.js","mtime":1638156297698},{"path":"/Users/justforstar/Desktop/SocialNetworkPortraitAnalysisSystem/node_modules/vue-loader/lib/index.js","mtime":1638156305159}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KCmltcG9ydCAqIGFzIGVjaGFydHMgZnJvbSAnZWNoYXJ0cycKcmVxdWlyZSgnZWNoYXJ0cy90aGVtZS9tYWNhcm9ucycpIC8vIGVjaGFydHMgdGhlbWUKaW1wb3J0IHJlc2l6ZSBmcm9tICcuL21peGlucy9yZXNpemUnCmltcG9ydCB7IGZldGNoVXNlclByb2JhYmlsaXR5LCBnZXRVc2VyUG9ydHJhaXQgfSBmcm9tICdAL2FwaS93ZWliby11c2VyJwoKZXhwb3J0IGRlZmF1bHQgewogIG1peGluczogW3Jlc2l6ZV0sCiAgcHJvcHM6IHsKICAgIGNsYXNzTmFtZTogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6ICdjaGFydCcKICAgIH0sCiAgICB3aWR0aDogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6ICc1MCUnCiAgICB9LAogICAgaGVpZ2h0OiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogJzMwMHB4JwogICAgfQogIH0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGNoYXJ0OiBudWxsLAogICAgICBzX3A6MCwKICAgICAgZV9wOjAsCiAgICAgIG5fcDowCiAgICB9CiAgfSwKICBtb3VudGVkKCkgewogICAgdGhpcy4kbmV4dFRpY2soKCkgPT4gewogICAgICB0aGlzLmluaXRDaGFydCgpCiAgICB9KQogIH0sCiAgYmVmb3JlRGVzdHJveSgpIHsKICAgIGlmICghdGhpcy5jaGFydCkgewogICAgICByZXR1cm4KICAgIH0KICAgIHRoaXMuY2hhcnQuZGlzcG9zZSgpCiAgICB0aGlzLmNoYXJ0ID0gbnVsbAogIH0sCiAgbWV0aG9kczogewogICAgaW5pdENoYXJ0KCkgewogICAgICBjb25zdCB0aGF0ID0gdGhpcwogICAgICB0aGF0LndlaWJvX3VzZXJfaWQgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnd2VpYm9fdXNlcl9pZCcpCiAgICAgIGZldGNoVXNlclByb2JhYmlsaXR5KHRoYXQud2VpYm9fdXNlcl9pZCkudGhlbihyZXNwb25zZSA9PiB7CgogICAgICAgIHRoYXQuc19wID0gcmVzcG9uc2UuZGF0YS5zZXZlbl9wcm9iYWJpbGl0eQogICAgICAgIHRoYXQuZV9wID0gcmVzcG9uc2UuZGF0YS5laWdodF9wcm9iYWJpbGl0eQogICAgICAgIHRoYXQubl9wID0gcmVzcG9uc2UuZGF0YS5uaW5lX3Byb2JhYmlsaXR5CgogICAgICAgIHRoYXQuc19wID0gTWF0aC5yb3VuZCh0aGF0LnNfcCoxMDAwKQogICAgICAgIHRoYXQuZV9wID0gTWF0aC5yb3VuZCh0aGF0LmVfcCoxMDAwKQogICAgICAgIHRoYXQubl9wID0gTWF0aC5yb3VuZCh0aGF0Lm5fcCoxMDAwKQoKICAgICAgICB0aGF0LmNoYXJ0ICA9IGVjaGFydHMuaW5pdChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWdlQ2hhcnQnKSwnbWFjYXJvbnMnKTsKCiAgICAgICAgdGhhdC5jaGFydC5zZXRPcHRpb24oewogICAgICAgICAgdG9vbHRpcDogewogICAgICAgICAgICB0cmlnZ2VyOiAnaXRlbScsCiAgICAgICAgICAgIGZvcm1hdHRlcjogJ3tifTp7ZH0lJywKICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiAncmdiYSgyNTUsMjU1LDI1NSwwLjcpJwogICAgICAgICAgfSwKICAgICAgICAgIGxlZ2VuZDogewogICAgICAgICAgICBsZWZ0OiAnY2VudGVyJywKICAgICAgICAgICAgYm90dG9tOiAnMTAnLAogICAgICAgICAgICBkYXRhOiBbJzcw5ZCOJywgJzgw5ZCOJywgJzkw5ZCOJ10KICAgICAgICAgIH0sCiAgICAgICAgICBzZXJpZXM6IFsKICAgICAgICAgICAgewogICAgICAgICAgICAgIG5hbWU6ICflubTpvoTpooTmtYsnLAogICAgICAgICAgICAgIHR5cGU6ICdwaWUnLAogICAgICAgICAgICAgIHJvc2VUeXBlOiAncmFkaXVzJywKICAgICAgICAgICAgICByYWRpdXM6IFsxNSwgOTVdLAogICAgICAgICAgICAgIGNlbnRlcjogWyc1MCUnLCAnNTAlJ10sCiAgICAgICAgICAgICAgaXRlbVN0eWxlOiB7CiAgICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6IDgKICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgIGRhdGE6IFsKICAgICAgICAgICAgICAgIHsgdmFsdWU6IHRoYXQuc19wLCBuYW1lOiAnNzDlkI4nIH0sCiAgICAgICAgICAgICAgICB7IHZhbHVlOiB0aGF0LmVfcCwgbmFtZTogJzgw5ZCOJyB9LAogICAgICAgICAgICAgICAgeyB2YWx1ZTogdGhhdC5uX3AsIG5hbWU6ICc5MOWQjicgfSwKICAgICAgICAgICAgICAgIC8vIHsgdmFsdWU6IDE0OSwgbmFtZTogJ0ZvcmV4JyB9LAogICAgICAgICAgICAgICAgLy8geyB2YWx1ZTogMTAwLCBuYW1lOiAnR29sZCcgfSwKICAgICAgICAgICAgICAgIC8vIHsgdmFsdWU6IDU5LCBuYW1lOiAnRm9yZWNhc3RzJyB9CiAgICAgICAgICAgICAgXSwKICAgICAgICAgICAgICBhbmltYXRpb25FYXNpbmc6ICdjdWJpY0luT3V0JywKICAgICAgICAgICAgICBhbmltYXRpb25EdXJhdGlvbjogMjAwMAogICAgICAgICAgICB9CiAgICAgICAgICBdCiAgICAgICAgfSkKICAgICAgfSkKICAgIH0KICB9Cn0K"},{"version":3,"sources":["agePieChart.vue"],"names":[],"mappings":";;;;;AAKA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"agePieChart.vue","sourceRoot":"src/views/dashboard/admin/components","sourcesContent":["<template>\n  <div id=\"ageChart\" :class=\"className\" :style=\"{height:height,width:width}\" />\n</template>\n\n<script>\nimport * as echarts from 'echarts'\nrequire('echarts/theme/macarons') // echarts theme\nimport resize from './mixins/resize'\nimport { fetchUserProbability, getUserPortrait } from '@/api/weibo-user'\n\nexport default {\n  mixins: [resize],\n  props: {\n    className: {\n      type: String,\n      default: 'chart'\n    },\n    width: {\n      type: String,\n      default: '50%'\n    },\n    height: {\n      type: String,\n      default: '300px'\n    }\n  },\n  data() {\n    return {\n      chart: null,\n      s_p:0,\n      e_p:0,\n      n_p:0\n    }\n  },\n  mounted() {\n    this.$nextTick(() => {\n      this.initChart()\n    })\n  },\n  beforeDestroy() {\n    if (!this.chart) {\n      return\n    }\n    this.chart.dispose()\n    this.chart = null\n  },\n  methods: {\n    initChart() {\n      const that = this\n      that.weibo_user_id = localStorage.getItem('weibo_user_id')\n      fetchUserProbability(that.weibo_user_id).then(response => {\n\n        that.s_p = response.data.seven_probability\n        that.e_p = response.data.eight_probability\n        that.n_p = response.data.nine_probability\n\n        that.s_p = Math.round(that.s_p*1000)\n        that.e_p = Math.round(that.e_p*1000)\n        that.n_p = Math.round(that.n_p*1000)\n\n        that.chart  = echarts.init(document.getElementById('ageChart'),'macarons');\n\n        that.chart.setOption({\n          tooltip: {\n            trigger: 'item',\n            formatter: '{b}:{d}%',\n            backgroundColor: 'rgba(255,255,255,0.7)'\n          },\n          legend: {\n            left: 'center',\n            bottom: '10',\n            data: ['70后', '80后', '90后']\n          },\n          series: [\n            {\n              name: '年龄预测',\n              type: 'pie',\n              roseType: 'radius',\n              radius: [15, 95],\n              center: ['50%', '50%'],\n              itemStyle: {\n                borderRadius: 8\n              },\n              data: [\n                { value: that.s_p, name: '70后' },\n                { value: that.e_p, name: '80后' },\n                { value: that.n_p, name: '90后' },\n                // { value: 149, name: 'Forex' },\n                // { value: 100, name: 'Gold' },\n                // { value: 59, name: 'Forecasts' }\n              ],\n              animationEasing: 'cubicInOut',\n              animationDuration: 2000\n            }\n          ]\n        })\n      })\n    }\n  }\n}\n</script>\n"]}]}